---
id: custom-domains
title: دامنه دلخواه‌
sidebar_label: دامنه دلخواه
---

## منظور از دامنه دلخواه چیست؟
با اینکه فندق به طور پیشفرض به سرویس‌های غیرinternal شما یک Hostname مثل `serviceName-NameSpace.fandogh.cloud` اختصاص می‌دهد، شاید شما مایل باشید یک hostname اختصاصی از روی domain خودتان بسازید و از طریق آن به سرویس خود دسترسی پیدا کنید.\
به عنوان مثال  شما مالک دامنه some-project.com ‌هستید و شاید بخواهید api.some-project.com را به سرویس api خود متصل کنید، یا اینکه some-project.com را به سرویسی به نام front-web متصل کنید.\
برای اینکار ما نیاز داریم ابتدا مطمئن شویم که شما مالک دامنه هستید، بعد از این کار شما می‌توانید از دامنه به راحتی برای سرویس‌های خود استفاده کنید.
## افزودن و احراز مالکیت دامنه
پروسه اثبات مالکیت بسیار ساده است، ما یک key در اختیار شما قرار میدهیم و شما باید آن key را در قالب یک TXT record در NS خود ست کنید، ما رکورد را بررسی می‌کنیم اگر وجود داشته باشد یعنی شما مالک دامنه هستید.

> البته اگر قبلا مثلا مالکیت خود را روی example.com اثبات کرده باشید
> دیگری برای افزودن sub.example.com نیازی به تایید ندارید.

برای افزودن دامنه ابتدا fandogh domain add را اجرا کنید، نام دامنه را بنویسید و سپس keyای که در اختیار شما قرار داده می‌شود را به عنوان TXT record ایجاد کنید و entry (یا return) را فشار دهید.\
اگر رکورد به درستی ست شده باشد دامنه روی حساب کاربری شما فعال می‌شود و می‌توانید هنگام ساخت سرویس آن را با `h-` یا `hosts--` استفاده کنید.

## ساخت رکورد CNAME
ست کردن نام دامنه یا Hostname با سویچ `hosts--` به تنهایی باعث نمی‌شود که درخواست‌های HTTP کاربران حتما به سرویس شما روی سکوی فندق برسند، طبیعتا درخواست‌های HTTP کاربران شما باید اول به سرور‌های فندق برسند تا بعد ما با استفاده از هدر Hostای که ست شده است درخواست را به سرویس مورد نظر برسانیم.\
برای این کار لازم است یک رکورد [CNAME](https://en.wikipedia.org/wiki/CNAME_record) روی دامنه مورد نظر خود بسازید که به سمت hostname سرویس شما در فندق اشاره می‌کند.\
به عنوان مثال اگر نام namespace شما banana باشد و نام سرویس شما happy باید روی دامنه خود یک رکورد CNAME به آدرس
`happy-banana.fandogh.cloud` ایجاد کنید.\

