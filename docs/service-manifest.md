---
id: service-manifest
title: مانیفست سرویس
sidebar_label: مانیفست سرویس
---
---
id: service-manifest
title: مانیفست سرویس
sidebar_label: مانیفست سرویس
---
## مانیفست سرویس چیست؟
دیپلوی کردن سرویس‌ها بسته به تنظیماتی که حین دیپلوی سرویس مشخص می‌کنید می‌تواند پیچیده شود، و انجام این کار با استفاده از `fandogh service deploy` برای تعداد زیادی سرویس ممکن است کاملا خسته‌کننده شود به علاوه اینکه احتمال خطا در تنظیمات را هم بالا می‌برد.
برای اینکه این امر را ساده‌تر کنیم و احتمال بروز خطا را کاهش دهیم، امکانی را در نظر گرفتیم که شما مشخصات سرویسی که قرار است ساخته شود را در یک فایل با فرمت و ساختار مشخص می‌نویسید و هر بار که فایل را از طریق `fandogh service apply` در اختیار CLI قرار دهید، سرویس مورد نظر شما با مشخصات مورد نظر شما ایجاد **یا با ویژگی‌های جدید به روزرسانی** می‌شود.

## ساختار مانیفست سرویس
اگر قبلا با CLI برای دیپلوی سرویستون کار کرده باشید احتمالا بیشتر قسمت‌های مانیفست به نظر شما آشنا میاد، در غیر اینصورت هم نگران نباشید، مانیفست بسیار ساختار ساده‌ای داره و هر چیزی که داخل مانیفست هست رو همینجا به تشریح توضیح خواهیم داد.
فرمت فایل‌های مانیفست Yaml هستش، درست مثل Json هستش فقط شمایل متفاوتی داره و به نسبت خواناتر هستش.
به ازای هر سرویس شما یک آبجکت باید بنویسید که فیلد‌های زیر رو دارد:

 - kind
 نوع سرویسی که قصد دیپلوی اون رو دارید، انواع سرویس این موارد هستند:
	 - **ExternalService** برای سرویس‌هایی که قصد دارید به طور خارجی در دسترس باشند، مثل API‌ها، این نوع سرویس‌ها حالت پیشفرض بدون حضور سویچ `internal--‍` در دستور `fandogh service deploy‍` است.
	 - **InternalService** برای سرویس‌هایی که داخلی هستند، و فقط  توسط سرویس‌های دیگر شما استفاده می‌شوند، مثل دیتابیس‌های، Message brokerها و...، این نوع سرویس‌ها مثل سویچ `internal--` در دستور `fandogh service deploy‍` است.
	 -  **ManagedService** برای سرویس‌های آماده استفاده فندق مثل mysql یا Postgresql
 - name
 نامی که برای سرویس خود انتخاب کردید، این نامی هستش که بقیه سرویس‌ها از طریق آن این سرویس را پیدا می‌کنند، این مورد مشابه سویچ `name--` در دستور `fandogh service deploy` است.
 - spec
این فیلد حاوی آبجکتی است که بسته به مقدار فیلد `kind` ساختار متفاوتی داره و مشخصات سرویس شما داخل اون قرار میگیره.
این ساختار کلی مانیفست هستش:
```
---
kind: ExternalService
name: some-api
spec: 

```
که البته در قسمت spec باید مشخصات سرویس قرار بگیره.
حالا مقدار فیلد `spec‍` رو به ازای `kind`های مختلف بررسی می‌کنیم:
### فیلد spec در ExternalService ها
کلید‌های اصلی برای این فیلد عبارتند از:
 - image
 - image_pull_policy
 - image_pull_secret
 - replicas
 - port
 - path
 - allow_http
 - env
 - domains
 - volumes
 - port_mapping
 - resources

## فیلد‌ spec در InternalServiceها
 - image
 - image_pull_policy
 - image_pull_secret
 - replicas
 - env
 - volumes
 - port_mapping
 - resources
## فیلد spec در ManagedServiceها
 - service_name
 - version
 - parameters
 - resources
 - volumes



